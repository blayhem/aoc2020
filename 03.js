const terrain = [
  ".#.....#..#..#....##.........#.",
  "...#...#.........#..#.#..#.....",
  "#.#...#.#....#.....#..#..##..##",
  "..#..#.#.#.....#..#..#..##.....",
  ".#..........#....####..##.#..#.",
  "....##.......#.#.....#.........",
  "....#......#....####.#.##......",
  "........##..........##......#..",
  ".........#........##..#.#.....#",
  ".#..##..........#..#...#..##.#.",
  "........#........#.....#....#.#",
  "..#.......#.###...#.......##...",
  ".##..##.#...#........#.........",
  "...#....#..#..#..##.......#..#.",
  ".#.#.##.##..##..#.#.....#.....#",
  "....#.........#........#....##.",
  "........#........#....###.#..#.",
  "........#....#......##.........",
  ".###.##.#.............##.......",
  "....#.........#...#.#.##..#....",
  "#.............#.#.#.#..#..#..##",
  "###...###.###..#........#......",
  "##..#.....#....##..##..........",
  ".......#...#....#...#...#.....#",
  "...#......###...##.###...#...#.",
  "#.......#...##..#.......#..#...",
  ".....##....#....#..#..#.#.##..#",
  ".........#....##.#.#..##.#.....",
  ".....#......#.#.#.....#.....#..",
  "..#..#...#.#...#.........##.#..",
  ".....#..#.................#.#..",
  "##.#....##........#......#.....",
  "#..#...##...#.#.#..#...........",
  ".#..####.....#......#.###......",
  ".#.......##............#....#..",
  ".#.........##..#.##...#.....###",
  "....##.........#.#...####...##.",
  "..#.......#......##.....#.#..#.",
  "...##....#..#..##....##...#.#.#",
  ".................#.............",
  "...#.##..#.##..............#...",
  "...#......#.........##........#",
  "..#.#..##...#.......#.#........",
  ".###.#.....#.##.##.#...#...#...",
  ".....#.##.....#..#......#..#...",
  ".....#.#...#........#..#..#..#.",
  "#...#.##.#....#................",
  "..#...#.#..#.....#.#.#.........",
  "#.#.###...#.....##........##...",
  "#..##.##....#..........##.#...#",
  "...#..#.#.###...##......#.#....",
  ".#..#........##...#......#.#.#.",
  "##........###....#.#....#......",
  "....#...........#.........#....",
  "#.#....#..#.....#.#....#.....#.",
  "........###.......#..#.#.#.#.#.",
  "..#....#.....#...............##",
  ".....#..##....#.#...####.......",
  ".#..#.....#..#.....#....#....#.",
  "..##....#...........#.#....#...",
  "..#.#......#..#.#..#.....###.#.",
  "...........................##..",
  "##.....#....#......###.#...#..#",
  "...#...#.........#..#..#....#..",
  "....#####.#.#.#....#..#........",
  ".##.#..#.#............###......",
  "##.#...##...##....#...#...##...",
  "..#.#.....#.......#..##..###.##",
  "#..##...........#.##.....#.##..",
  "#...#....#...#..##...#.#...#.#.",
  ".#..#...........###...#.#...#..",
  ".#.....#......#.#......#...#..#",
  ".#...##.##...............#....#",
  "..#.........#....#.............",
  ".#..##..#.#................#...",
  "..#.#.#.#.................#.#.#",
  "...#..#.#..#.#......#........#.",
  "##....#......###.#......#......",
  "..#....##.....#..#........#....",
  ".#.#....#...#.#.....###..#...#.",
  ".#..#...##.....#.#...#.....#.#.",
  "...#....#....##....##.....#....",
  ".......#...#...##..#.#.......#.",
  ".###..#..###.#.#.#.#.#.....##..",
  "....#.#......###.#....#....#..#",
  "##.....#.....##.#.....#....#...",
  "......#...##...#..#.#.....#....",
  "...#.........###.....#..##.....",
  "....#...#..#....#..#.........##",
  ".#........#..#.....#.##.#....#.",
  ".......#......#.##...##.#..#...",
  "#......#.......##..##..#.#.....",
  "..#.##..........#.#..#......#..",
  "#.....#.......#......#.........",
  "...##......##...........#.#....",
  ".#....#........#...#.#..#.....#",
  ".#...#...##......##...##...##.#",
  ".#.#.##.....##....#.#.#..#.....",
  "...#..#........#.....#.#.#####.",
  "#..#..#......#....##....##.....",
  ".#.............#....###.##.#...",
  ".#....#.......#.#.....#......##",
  "#..#.#.#........#...#..#...#...",
  "#.#.#.....#.......#.##..#.....#",
  "..#....#.....#...##.#...##.....",
  "......#..#.............###...#.",
  "..#...#.#....###...#...........",
  ".........#..#..#....#..#.......",
  "#....#.....#..#....#.#..##.....",
  ".#..#.#.....#...##.....##......",
  ".....####..#..#......#....##..#",
  "#.#....#....#.##.......#.#.....",
  "....#.#.............##..#.#...#",
  "....#.#.#.....##.....##..#...#.",
  ".#..#...#....#...#.#....#...#..",
  ".#..#.#.#.......#...#..........",
  "...##..#..#...##.....#.......#.",
  "..##...##.#..#.......#.........",
  ".##.#.......##...#...#......#.#",
  "##.#.#..#...#............#.....",
  "..#.##...##..#....##..#......#.",
  "...#..........#.....#.#........",
  "...#..#..#.......#.#.....##....",
  "##.............#.....#.##...#..",
  "#.#......#........#...#.##..#.#",
  "...#..#...##.#.#........#.#....",
  "#.....##...........#....#......",
  "...##....#..#.#...#........#...",
  "..##..####..#..#...............",
  ".#.#..#......#.##.........##.#.",
  ".##....#...##.#...#..##..#.....",
  "........#........#.###.#.#....#",
  "......##...#......#..#..#......",
  "..#.......#...#..##........#..#",
  ".#....###..###....###...##.#.##",
  "#.#....#..#.#...#.#...##...#...",
  "..#..##......#..#......####....",
  ".#....###.......#...##...#.....",
  "...#....#..#.....#..#...####.#.",
  "............#.####..##...#..##.",
  ".#..#.......#....#...#......#.#",
  ".......#.......#..#.#..........",
  "...#.#............#..#......#..",
  "..#...........#...##......#...#",
  "...##......#.........#.#...#.##",
  ".#..#..#..#......#...........#.",
  "....#.....#.###........#.......",
  "..##.#.#........#.#...##....#..",
  ".#.#........##....#...#......#.",
  ".......#.##..###...............",
  "#..#...##.....##........##....#",
  "...####........#...#.........##",
  "...#..............##..#........",
  "......#.....#....#.......#....#",
  "..###......#..##.....##....##..",
  "##...#.....#..#.#.#...#.....#..",
  "...#....#............#.........",
  "..#..##...#..#.........#.......",
  ".#.#.#...##..........#..###....",
  ".......##.#.#.#...#.#...#.....#",
  "..#..#..#..#...###.....#.##....",
  ".#.#.....#.....##.#..#...###..#",
  ".........#..##......##...##.#.#",
  "#.........##..#......#..#.#.#..",
  ".#..##.#.##......##........#...",
  "..#...#.....##..#......#.....##",
  ".#..#...#......#..#...#.....##.",
  "..#..##...#.....#.....#........",
  "....##..#....#.#....#......#.#.",
  "..#.......##..#..#.##.#..#...##",
  "...#..........#...#..##........",
  "..#............#.#......#......",
  ".#...##.......#...#.#........#.",
  ".#...#....#..#....#....#.#...#.",
  "......#..#.#..#..............#.",
  ".....#.##.#...............##.##",
  ".#...............#.....#..#...#",
  ".#..##.......#.#...#..#..#....#",
  "..#..###.##........##..........",
  ".#....#..##...#.#.........#....",
  ".......#.....#....###...##.#.#.",
  "##..#.#...##.##.##....##.#.###.",
  "#.#...........#..#.#...........",
  "....#..#..#..#...#....#.......#",
  "........##....#..#......##.#...",
  ".#.#..##...##...#....#..#.###..",
  "#..##....#..#...#.......##.....",
  "..###..#.###......#..####....#.",
  ".....#..#........##.#..#.......",
  ".#......##..............#.#.#..",
  "..#.#.......##...#....#.#.###..",
  "#..#..#...###..#...............",
  "......#..#.....#..#..#...#.....",
  ".#...#..........###..#..#.#....",
  ".#......##..#......#.....###..#",
  ".......#...#..#....###.....#...",
  "#....#.......###.##.....##....#",
  "..#.....#..##..#.........##....",
  ".....##....#.#......#..........",
  "....#...#...#......##.....##.#.",
  "........#.#.#......#...........",
  ".#....#...#...#....#.....#...#.",
  "..............#..##.#.....###.#",
  ".#......##.....##...#....#.....",
  ".............#.##......#.....#.",
  ".#....#.#............#.#..##...",
  ".#...##.......#..#...##....#...",
  ".#.....#..........#............",
  "#.#.#........#.....#..#....##..",
  "#....#.##......#...#...........",
  "........#.##.....#...##.....#..",
  "..#.##....#.##.#...#.#.#....#..",
  "......#.......####......#.#...#",
  "#...#.##.####......#.....##....",
  ".#..#....#.......#...##.....#..",
  "................#......#.##....",
  "###...##..#.#..........#....#.#",
  "#.#..#.....#..##.##.##...#...##",
  "..#.......#.......#..##..#..##.",
  "......#.##.......#..#.....#...#",
  ".##..##..#.#.......#..#......#.",
  "....##.#....#...##.#..#.....#.#",
  "..#..#.........###.#...........",
  "....#.......#....##......#....#",
  "..........#...#......#....#...#",
  "..#.#....###.....#..#.#.#..#...",
  ".....#...##..#.##........####..",
  "##.............#....##........#",
  "..#..........#..##.#...........",
  "##.#.......#.#....#......#.#...",
  "........####.....##.#.........#",
  ".....#...#.#.....#.##..##.#....",
  "........#...#.#.#.#...#......#.",
  ".#..#.#....#.#...##.....#..#...",
  ".....#.#............#.#.#......",
  "....##.#...#...#.##...##.......",
  ".........#.##.....#.......#...#",
  "...........###....#.#....#...#.",
  ".#..#.###......#..#............",
  "#...#..#......#.#...#......#...",
  "..##.#.#........#........##..##",
  "..#.#.##..##....#........#.#.#.",
  "...#........###......#.#.....#.",
  "#.#.#.##........#.#...#..#.....",
  "#..#...............#...#.#...#.",
  ".....##......#...#.....#..#....",
  "............#...#...#.##.#....#",
  "...#..#..#...##.#....#.#..#.#..",
  "##.#..#..............##........",
  ".#.#..#.#..#....##..#.#.##.##..",
  "......######....##.....#.......",
  ".#.......#..........#.#..#.#..#",
  "..........#.#......#...##......",
  "#..........#.#..#.............#",
  "...#...#..#....................",
  "....#...#.....#.....##.....#...",
  "..#....##.....#..#......#......",
  ".#.#.....#..##.##..........###.",
  ".#.##....#....#....#....#...#..",
  "..##.....................##.#..",
  ".....#..##....#.#.....##..#....",
  ".####...#...##..#.##...#..#....",
  ".........#.#...#.......###.....",
  "...#..#........#..#..##.....#..",
  "..#....#....#....###.....#.....",
  "......#....#..#.........#......",
  "#.#...#..#..#.#...#..#.#......#",
  "..........#..........#.#.##....",
  ".#..###..##..#....#.#.....#..#.",
  ".##......#..#.##...#.........#.",
  "...##...#....#.........#..#....",
  "....#..##........#.........#...",
  ".........##....#...#.#.....#..#",
  ".#..........##...#..#.#..##....",
  "#.......#...#...#............#.",
  ".....##.#.##.......#.......#...",
  "...........#...#.....###.....#.",
  "#..................#.##..##...#",
  ".........##.............#...#.#",
  "#.#.....##...#........###....##",
  "...##..#.##.....###.....#......",
  "..#...#.#..#......##.#.......#.",
  ".........##.#...........###..#.",
  "..#...#.....#...#.#.....#..#...",
  ".....##..#...#.#.#....#.....###",
  "..#.#....#..#..#..#....#.#...#.",
  "........##....#......#....#..#.",
  ".##..#.....#.#....#..#.###.....",
  "..............##.........#.#.#.",
  ".##....#.#..#..#...#..........#",
  ".....##.......#....#..#......#.",
  "...#.#....................#..##",
  "#.##..#.#...#...#....#.#....##.",
  "...#.#..#.###................#.",
  ".....##..#.##.#.#.........#.#..",
  ".................##..........#.",
  "..#......#........#.#....#.....",
  "#......##......#......###....#.",
  "....##....#..#..####......#...#",
  ".##.##.........#...#..#....#.#.",
  ".#..#....##...##..#...........#",
  "#...#......#...#...........#...",
  "...#...####.............##..#..",
  ".....#....##............##....#",
  "......##.#...##...........#.#..",
  "..#......##.....###.......#.###",
  "...#...#......#...##.#........#",
  ".#.........##.##......##.......",
  "....................#....#....#",
  ".#.#.#........##.#....#.....#..",
  "#.#.....####..#.........#.#.#..",
  "...####..#..............#.#....",
  "....#.#....#..........#....#...",
  ".#..#..#.#...#..#.#............",
  ".#.#.......##........##.....#..",
  "#.#.##..#.....##......##....#.#",
  "......#...#...#...#......#.....",
  ".........##..#.....#.####.#.#..",
  ".....#....#.###...#.###.#..#..#",
  "..#.#..#..#.......#.......##...",
  ".....#.........#......##.#....#",
  "..#.#.##....#.#...............#",
  ".....#..#....##......##..###...",
];

const slopes = [
  [1, 1],
  [1, 3],
  [1, 5],
  [1, 7],
  [2, 1],
];

const total = slopes
  .map(([down, right]) => {
    let treeCounter = 0;
    let xPosition = 0;
    for (let i = 0; i < terrain.length; i += down) {
      const nextRow = terrain[i + down];
      if (!nextRow) {
        return treeCounter;
      }

      xPosition += right;
      let element = nextRow[xPosition];
      if (!nextRow[xPosition]) {
        element = nextRow.concat(nextRow)[xPosition];
        xPosition = xPosition % nextRow.length;
      }
      if (element === "#") {
        treeCounter += 1;
      }
    }
  })
  .reduce((a, b) => a * b, 1);

console.log(total);
